<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Dustbin ‚Äî Degradable & Non-Degradable (DSA Queue)</title>
<style>
  body {
    background: linear-gradient(135deg, #c6f6d5, #a8e6cf);
    font-family: "Poppins", sans-serif;
    text-align: center;
    margin: 0;
    padding: 30px;
    color: #222;
  }

  h1 { margin-bottom: 10px; }
  input {
    padding: 10px;
    width: 260px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 15px;
  }
  button {
    padding: 10px 18px;
    border: none;
    color: white;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
  }
  #addBtn { background: #2ecc71; }
  #addBtn:hover { background: #27ae60; }
  .process-btn { background: #3498db; }
  .process-btn:hover { background: #2b83c3; }
  #resetBtn { background: #e74c3c; }
  #resetBtn:hover { background: #c0392b; }

  /* Adjacent bin layout */
  .bin-section {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 50px;
    margin-top: 40px;
    flex-wrap: wrap;
  }

  .bin-container {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    gap: 10px;
  }

  .bin {
    width: 260px;
    height: 320px;
    background: #fff;
    border: 4px solid #333;
    border-radius: 12px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
  }

  .lid {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    width: 280px;
    height: 30px;
    background: #2f2f2f;
    border-radius: 6px;
    transform-origin: bottom center;
    transition: transform 0.5s ease;
  }

  .lid.open { transform: translateX(-50%) rotateX(70deg); }

  .waste {
    width: 45px;
    height: 45px;
    margin: 5px;
    font-size: 28px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    animation: drop 0.7s ease forwards;
  }

  @keyframes drop {
    from { transform: translateY(-150px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .shake {
    animation: shake 0.5s ease;
    border-color: #e74c3c !important;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    50% { transform: translateX(10px); }
    75% { transform: translateX(-5px); }
  }

  h3 { margin: 10px 0; }

  .content-area {
    flex: 1;
    padding-top: 35px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: flex-start;
  }

  .queue-info {
    width: 200px;
    background: #f8f8f8;
    border: 2px dashed #555;
    border-radius: 10px;
    padding: 10px;
    text-align: left;
    line-height: 1.5em;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    font-size: 13px;
  }

  .queue-info b {
    font-size: 14px;
    display: block;
    text-align: center;
    margin-bottom: 5px;
    color: #222;
  }

  .controls { 
    margin-top: 30px; 
    display: flex; 
    justify-content: center; 
    gap: 15px; 
    flex-wrap: wrap; 
  }

  .status { margin-top: 20px; font-weight: 600; font-size: 15px; }

  @media (max-width: 800px) {
    .bin-section {
      flex-direction: column;
      align-items: center;
    }
    .bin-container {
      flex-direction: column;
      align-items: center;
    }
  }
</style>
</head>
<body>

<h1>‚ôªÔ∏è Smart Dustbin Visualization (DSA Queue Concept)</h1>
<p>Enter a waste item (e.g., apple, book, cloth, plastic, metal, phone, vegetable, mask, syringe...)</p>

<input type="text" id="wasteInput" placeholder="Type waste name...">
<button id="addBtn">Add Waste</button>

<!-- Adjacent bins -->
<div class="bin-section">

  <!-- Degradable -->
  <div class="bin-container">
    <div class="bin" id="degradableBin">
      <div class="lid" id="lidDeg"></div>
      <h3>üü¢ Degradable</h3>
      <div class="content-area" id="degradableContent"></div>
    </div>
    <div class="queue-info" id="degInfo"></div>
  </div>

  <!-- Non-Degradable -->
  <div class="bin-container">
    <div class="bin" id="nonDegradableBin">
      <div class="lid" id="lidNon"></div>
      <h3>üîµ Non-Degradable</h3>
      <div class="content-area" id="nonDegradableContent"></div>
    </div>
    <div class="queue-info" id="nonInfo"></div>
  </div>

</div>

<div class="controls">
  <button class="process-btn" onclick="processWaste('degradable')">Process Degradable</button>
  <button class="process-btn" onclick="processWaste('non')">Process Non-Degradable</button>
  <button id="resetBtn" onclick="resetBins()">Reset</button>
</div>

<p class="status" id="status">Status: Waiting for input...</p>

<script>
let degradableQueue = [];
let nonQueue = [];
const MAX_CAPACITY = 8;

// Keywords
const degradableKeywords = [
  "fruit","apple","banana","orange","vegetable","carrot","leaf","tree","food",
  "paper","cloth","dress","grass","waste","flower","plant","wood","rice","bread",
  "book","chart","newspaper"
];

// ‚úÖ Added medical waste keywords in non-degradable
const nonDegradableKeywords = [
  "plastic","bottle","pen","metal","glass","battery","can","phone","charger",
  "earphone","wire","cable","ewaste","e-waste","wrapper","styrofoam","rubber",
  "tin","laptop","keyboard","medical","medical waste","mask","syringe","glove","bandage"
];

// Icons
const icons = {
  "apple":"üçé","banana":"üçå","orange":"üçä","fruit":"üçá","vegetable":"ü•ï","carrot":"ü•ï",
  "leaf":"üçÉ","tree":"üå≥","food":"üç±","paper":"üìÑ","cloth":"üëï","dress":"üëó","book":"üìö",
  "flower":"üå∏","plant":"ü™¥","wood":"ü™µ","plastic":"üß¥","bottle":"üßÉ","pen":"üñäÔ∏è","metal":"üß≤",
  "glass":"üçæ","battery":"üîã","phone":"üì±","charger":"üîå","wire":"ü™´","wrapper":"üç´",
  "can":"ü•´","earphone":"üéß","e-waste":"üíª","ewaste":"üíª","laptop":"üíª","keyboard":"‚å®Ô∏è",
  "mask":"üò∑","syringe":"üíâ","glove":"üß§","bandage":"ü©π","medical":"üè•","medical waste":"üè•"
};

function addWaste() {
  const input = document.getElementById("wasteInput").value.toLowerCase().trim();
  const status = document.getElementById("status");
  if (!input) { status.textContent = "‚ö†Ô∏è Please enter a waste item."; return; }

  const isDeg = degradableKeywords.some(w => input.includes(w));
  const isNon = nonDegradableKeywords.some(w => input.includes(w));
  const icon = icons[input] || "üóëÔ∏è";

  if (isDeg && !isNon) handleAdd("degradable", input, icon);
  else if (isNon && !isDeg) handleAdd("non", input, icon);
  else status.textContent = `‚ùì Cannot identify "${input}" ‚Äî try simpler word.`;

  document.getElementById("wasteInput").value = "";
}

function handleAdd(type, label, icon) {
  const binId = type === "degradable" ? "degradableBin" : "nonDegradableBin";
  const lidId = type === "degradable" ? "lidDeg" : "lidNon";
  const container = document.getElementById(type === "degradable" ? "degradableContent" : "nonDegradableContent");
  const queue = type === "degradable" ? degradableQueue : nonQueue;

  if (queue.length >= MAX_CAPACITY) {
    shakeBin(binId);
    document.getElementById("status").textContent = `üö® ${type} bin is full!`;
    return;
  }

  openLid(lidId);
  setTimeout(() => {
    const div = document.createElement("div");
    div.className = "waste";
    div.innerHTML = icon;
    container.appendChild(div);
    queue.push({label, div});
    document.getElementById("status").textContent = `‚úÖ Added "${label}" to ${type} bin`;
    updateQueueInfo();
    closeLids();
  }, 400);
}

function openLid(id) { document.getElementById(id).classList.add("open"); }
function closeLids() { document.getElementById("lidDeg").classList.remove("open"); document.getElementById("lidNon").classList.remove("open"); }
function shakeBin(id) { const bin = document.getElementById(id); bin.classList.add("shake"); setTimeout(()=>bin.classList.remove("shake"),600); }

function processWaste(type) {
  const status = document.getElementById("status");
  const queue = type === "degradable" ? degradableQueue : nonQueue;
  const container = document.getElementById(type === "degradable" ? "degradableContent" : "nonDegradableContent");
  const lidId = type === "degradable" ? "lidDeg" : "lidNon";

  if (queue.length === 0) { status.textContent = `‚ÑπÔ∏è ${type} bin is empty.`; return; }

  openLid(lidId);
  const item = queue.shift();
  item.div.style.transform = "translateY(150px)";
  item.div.style.opacity = "0";

  setTimeout(() => {
    container.removeChild(item.div);
    status.textContent = `‚ôªÔ∏è Processed "${item.label}" from ${type} bin`;
    updateQueueInfo();
    closeLids();
  }, 600);
}

function resetBins() {
  degradableQueue = [];
  nonQueue = [];
  document.getElementById("degradableContent").innerHTML = "";
  document.getElementById("nonDegradableContent").innerHTML = "";
  document.getElementById("status").textContent = "‚ôªÔ∏è All bins reset!";
  updateQueueInfo();
}

function updateQueueInfo() {
  const degInfo = document.getElementById("degInfo");
  const nonInfo = document.getElementById("nonInfo");

  const getQueueText = (queue) => {
    const size = queue.length;
    const front = size > 0 ? queue[0].label : "None";
    const rear = size > 0 ? queue[size - 1].label : "None";
    const balance = MAX_CAPACITY - size;
    return `
      <b>Queue Info</b>
      ‚û§ Front: ${front}<br>
      ‚û§ Rear: ${rear}<br>
      ‚û§ Size: ${size}<br>
      ‚û§ Remaining: ${balance}
    `;
  };

  degInfo.innerHTML = getQueueText(degradableQueue);
  nonInfo.innerHTML = getQueueText(nonQueue);
}

document.getElementById("addBtn").addEventListener("click", addWaste);
document.getElementById("wasteInput").addEventListener("keydown", e => { if (e.key === "Enter") addWaste(); });
updateQueueInfo();
</script>
</body>
</html>